# システム仕様書: 人事管理システム

## 1. はじめに

このドキュメントは、人事管理システムの詳細な仕様を定義します。このシステムは、組織内の従業員および部署データを管理するために設計されたWebアプリケーションです。

## 2. 機能要件

### 2.1. 従業員管理

ユーザーは従業員に対するCRUD (作成、読み取り、更新、削除) 操作を実行できるものとします。

-   **従業員の作成:** 指定された属性で新しい従業員を追加します。
-   **従業員の読み取り:**
    -   全従業員の一覧を取得します。
    -   IDによって特定の従業員の詳細を取得します。
-   **従業員の更新:** 既存の従業員の詳細を修正します。
-   **従業員の削除:** システムから従業員を削除します。

### 2.2. 部署管理

ユーザーは部署に対するCRUD操作を実行できるものとします。

-   **部署の作成:** 指定された属性で新しい部署を追加します。
-   **部署の読み取り:**
    -   全部署の一覧を取得します。
    -   IDによって特定の部署の詳細を取得します。
-   **部署の更新:** 既存の部署の詳細を修正します。
-   **部署の削除:** システムから部署を削除します。

## 3. データモデル

### 3.1. 従業員 (Employee)

| フィールド名   | 型             | 説明                     | 制約                                      |
| :------------- | :------------- | :----------------------- | :---------------------------------------- |
| `id`           | Long           | 一意の識別子             | プライマリキー、自動生成                  |
| `lastName`     | String         | 姓                       | 必須, 最大10文字                          |
| `firstName`    | String         | 名                       | 必須, 最大10文字                          |
| `email`        | String         | メールアドレス           | 必須, 有効なメール形式, 最大100文字       |
| `departmentId` | Long           | 関連する部署のID         | 必須, 部署への外部キー                    |
| `position`     | String         | 役職                     | 必須, 最大15文字                          |
| `hireDate`     | LocalDate      | 採用日                   | 必須, 過去または現在の日付                |
| `createdAt`    | OffsetDateTime | 作成日時                 | 自動生成                                  |
| `updatedAt`    | OffsetDateTime | 最終更新日時             | 自動生成                                  |

### 3.2. 部署 (Department)

| フィールド名 | 型             | 説明             | 制約                          |
| :----------- | :------------- | :--------------- | :---------------------------- |
| `id`         | Long           | 一意の識別子     | プライマリキー、自動生成      |
| `name`       | String         | 部署名           | 必須, 最大15文字              |
| `location`   | String         | 所在地           | 必須, 最大10文字              |
| `createdAt`  | OffsetDateTime | 作成日時         | 自動生成                      |
| `updatedAt`  | OffsetDateTime | 最終更新日時     | 自動生成                      |

## 4. API仕様

APIはJSON形式のレスポンスを提供します。

### 4.1. 部署API (Departments API)

**ベースパス:** `/api/departments`

| メソッド | エンドポイント | 説明               | 成功レスポンス   |
| :------- | :------------- | :----------------- | :--------------- |
| `GET`    | `/`            | 全ての部署を取得   | `200 OK`         |
| `POST`   | `/`            | 新しい部署を作成   | `201 Created`    |
| `GET`    | `/{id}`        | 特定の部署を取得   | `200 OK`         |
| `PUT`    | `/{id}`        | 部署を更新         | `200 OK`         |
| `DELETE` | `/{id}`        | 部署を削除         | `204 No Content` |

### 4.2. 従業員API (Employees API)

**ベースパス:** `/api/employees`

| メソッド | エンドポイント | 説明               | 成功レスポンス   |
| :------- | :------------- | :----------------- | :--------------- |
| `GET`    | `/`            | 全ての従業員を取得 | `200 OK`         |
| `POST`   | `/`            | 新しい従業員を作成 | `201 Created`    |
| `GET`    | `/{id}`        | 特定の従業員を取得 | `200 OK`         |
| `PUT`    | `/{id}`        | 従業員を更新       | `200 OK`         |
| `DELETE` | `/{id}`        | 従業員を削除       | `204 No Content` |